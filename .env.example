# ISMS Document Management and Compliance Application
# Environment Variables Configuration
#
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# =============================================================================
# Server Configuration
# =============================================================================

# Backend server port
PORT=4000

# Node environment (development, production, test)
NODE_ENV=development

# =============================================================================
# Authentication Configuration (Entra ID / Microsoft Identity Platform)
# =============================================================================

# Azure AD Tenant ID
# Found in Azure Portal > App registrations > Your app > Overview
AUTH_TENANT_ID=479ff824-e5d0-427c-9c93-4674a14cc15c

# Azure AD Client ID (Application ID)
# Found in Azure Portal > App registrations > Your app > Overview
AUTH_CLIENT_ID=96a507c7-3270-4246-86f7-4de14529f9bb

# Azure AD Client Secret (if required for backend)
# Found in Azure Portal > App registrations > Your app > Certificates & secrets
# Create a new client secret if one doesn't exist
AUTH_CLIENT_SECRET=yl38Q~n3GxR84_c5ZztqaNi6uQ4HrfegOltosc~e

# OAuth redirect URI
# Must match the redirect URI configured in Azure Portal
# For local development: http://localhost:3000
AUTH_REDIRECT_URI=http://localhost:3000

# Trust Centre Configuration
TRUST_CENTER_JWT_SECRET=xuPz8s3qV9dY7kN2mGtRjhX0LfCweTaM
TRUST_CENTER_JWT_EXPIRY=24h
TRUST_CENTER_MAX_FILE_SIZE_MB=50
TRUST_CENTER_DOWNLOAD_TOKEN_EXPIRY=1h

# CORS Configuration
CORS_TRUST_CENTER_ORIGINS=http://localhost,https://trust.paythru.com

# Email Service (Optional - for notifications)
EMAIL_SMTP_HOST=smtp.sendgrid.net
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=apikey
EMAIL_SMTP_PASS=<sendgrid-api-key>
EMAIL_FROM=noreply@yourdomain.com

# =============================================================================
# Frontend Configuration (Vite)
# =============================================================================
# Note: Vite requires the VITE_ prefix for environment variables to be exposed to the client

# Backend API URL
VITE_API_URL=http://localhost:4000

# Frontend auth configuration (for MSAL)
VITE_AUTH_TENANT_ID=479ff824-e5d0-427c-9c93-4674a14cc15c
VITE_AUTH_CLIENT_ID=96a507c7-3270-4246-86f7-4de14529f9bb
VITE_AUTH_REDIRECT_URI=http://localhost:3000

# =============================================================================
# SharePoint Integration Configuration
# =============================================================================

# SharePoint Site ID
# Found in SharePoint site settings or via Microsoft Graph API
SHAREPOINT_SITE_ID=cbfffb82-c307-43cf-ad0f-281d21686e65

# SharePoint Drive ID (Document Library ID)
# Found in SharePoint document library settings or via Microsoft Graph API
SHAREPOINT_DRIVE_ID=b!gvv_ywfDz0OtDygdIWhuZfSXyuKyKkpPt9EK2rXjSwMM6EWv5oO9QJeMsI0T9IDa

# =============================================================================
# Confluence Integration Configuration
# =============================================================================

# Confluence base URL
# Format: https://your-domain.atlassian.net
CONFLUENCE_BASE_URL=https://paythru.atlassian.net

# Confluence username or email
CONFLUENCE_USERNAME=mark.braybrook@paythru.com

# Confluence API token
# Create at: Account Settings > Security > API tokens
CONFLUENCE_API_TOKEN=ATATT3xFfGF0HTmkefkOwznsBO3OA7ifFtxmUgvdQ9by25sdaQsWeZ-di8HOJDT-2WR7ktOpqI2R4tlppH1xhgV0LQgfo_EP9Z-2j1Z2QqlMy_9rzydNIO3iesg6dpk4XCF6iChu-j8jiT5tRKhbP7r3jHdPnbFev498R09pvXW2y_7h8Aby9hY=6322A54C

# =============================================================================
# LLM Configuration (for Risk Similarity Analysis)
# =============================================================================

# LLM provider (currently supports 'ollama', 'nomic-embed-text')
LLM_MODEL=nomic-embed-text

# LLM base URL (default: http://localhost:11434 for Ollama)
LLM_BASE_URL=http://localhost:11434

# LLM model name (e.g., 'llama2', 'mistral', 'codellama')
# Make sure the model is installed in Ollama: ollama pull <model>
LLM_MODEL=llama2

# Similarity threshold (0-100)
# Risks with similarity scores below this threshold will be filtered out
LLM_SIMILARITY_THRESHOLD=70
